#include <stdio.h>

char a[9][9];

int checkEmpty(int r, int c) {
    for (int i = r*3; i < r*3+3; i++)
        for (int j = c*3; j < c*3+3; j++)
            if (a[i][j] == '.') return 1;
    return 0;
}

void markMoves(int r, int c) {
    if (checkEmpty(r, c)) {
        for (int i = r*3; i < r*3+3; i++)
            for (int j = c*3; j < c*3+3; j++)
                if (a[i][j] == '.') a[i][j] = '!';
    } else {
        for (int i = 0; i < 9; i++)
            for (int j = 0; j < 9; j++)
                if (a[i][j] == '.') a[i][j] = '!';
    }
}

void printBoard() {
    for (int i = 0; i < 9; i++) {
        for (int j = 0; j < 9; j++) {
            putchar(a[i][j]);
            if (j%3 == 2 && j != 8) putchar(' ');
        }
        putchar('\n');
        if (i%3 == 2 && i != 8) putchar('\n');
    }
}

int main() {
    int c, k = 0;
    while (k < 81 && (c = getchar()) != EOF) {
        if (c == 'x' || c == 'o' || c == '.') {
            a[k/9][k%9] = c;
            k++;
        }
    }

    int x, y;
    scanf("%d %d", &x, &y);

    int r = (x-1)%3;
    int c2 = (y-1)%3;

    markMoves(r, c2);
    printBoard();
    return 0;
}

