#include <stdio.h>

#define MAXN 1005

int n, x;
int a[MAXN];

int main() {
    scanf("%d %d", &n, &x);
    for (int i = 1; i <= n; i++) scanf("%d", &a[i]);

    int pos_possible[MAXN];
    int count = 0;

    for (int p = 1; p <= n; p++) {
        int valid = 1;
        for (int i = 1; i <= n; i++) {
            if (i == x) continue;

            int cur = i, after_x = 0;
            while (a[cur] != 0) {
                if (a[cur] == x) { after_x = 1; break; }
                cur = a[cur];
            }
            if (after_x && p <= i) { valid = 0; break; }

            cur = i;
            int before_x = 0;
            while (a[cur] != 0) {
                if (cur == x) { before_x = 1; break; }
                cur = a[cur];
            }
            if (before_x && p >= i) { valid = 0; break; }
        }
        if (valid) pos_possible[count++] = p;
    }

    for (int i = 0; i < count; i++) printf("%d\n", pos_possible[i]);

    return 0;
}

