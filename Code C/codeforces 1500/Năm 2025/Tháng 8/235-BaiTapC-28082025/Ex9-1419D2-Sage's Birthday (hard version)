#include <stdio.h>
#include <stdlib.h>

int cmp(const void *x, const void *y){
    long long a = *(long long*)x;
    long long b = *(long long*)y;
    if(a < b) return -1;
    if(a > b) return 1;
    return 0;
}

int main(){
    int n;
    scanf("%d",&n);
    long long a[n], res[n];

    for(int i=0;i<n;i++) scanf("%lld",&a[i]);

    qsort(a, n, sizeof(long long), cmp);

    int mid = n/2;
    int small = 0, large = mid;
    int idx = 0;

    while(small < mid || large < n){
        if(large < n) res[idx++] = a[large++];
        if(small < mid) res[idx++] = a[small++];
    }

    int cnt = 0;
    for(int i=1;i<n-1;i++){
        if(res[i] < res[i-1] && res[i] < res[i+1]) cnt++;
    }

    printf("%d\n",cnt);
    for(int i=0;i<n;i++){
        if(i) putchar(' ');
        printf("%lld",res[i]);
    }
    putchar('\n');

    return 0;
}

