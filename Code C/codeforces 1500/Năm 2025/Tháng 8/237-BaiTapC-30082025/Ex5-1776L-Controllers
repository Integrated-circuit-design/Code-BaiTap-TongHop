#include <stdio.h>
#define ll long long

int plusCnt, minusCnt, D;

const char* check(ll a, ll b) {
    if (a == b) return (D == 0 ? "YES" : "NO");
    ll num = -1LL * D * b, den = a - b;
    if (num % den) return "NO";
    ll X = num / den;
    return (X >= -minusCnt && X <= plusCnt) ? "YES" : "NO";
}

int main() {
    int n; 
    scanf("%d", &n);

    char s[200005];
    scanf("%s", s);

    for (int i = 0; i < n; i++) 
        (s[i] == '+' ? plusCnt : minusCnt)++;

    D = plusCnt - minusCnt;

    int q; 
    scanf("%d", &q);
    while (q--) {
        ll a, b; 
        scanf("%lld%lld", &a, &b);
        printf("%s\n", check(a, b));
    }
    return 0;
}

