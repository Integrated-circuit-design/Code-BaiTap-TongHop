#include <stdio.h>
#include <stdlib.h>

typedef long long ll;

int main() {
    int t;
    scanf("%d", &t);

    while (t--) {
        int n;
        scanf("%d", &n);

        ll weight[100005];
        int degree[100005] = {0};

        for (int i = 1; i <= n; i++)
            scanf("%lld", &weight[i]);

        for (int i = 0; i < n-1; i++) {
            int u, v;
            scanf("%d %d", &u, &v);
            degree[u]++;
            degree[v]++;
        }

        ll result[100005];
        ll total = 0;
        for (int i = 1; i <= n; i++)
            total += weight[i];
        result[0] = total;

        ll contrib[200005];
        int idx = 0;
        for (int i = 1; i <= n; i++) {
            for (int j = 1; j < degree[i]; j++)
                contrib[idx++] = weight[i];
        }

        for (int i = 0; i < idx-1; i++) {
            int max_pos = i;
            for (int j = i+1; j < idx; j++) {
                if (contrib[j] > contrib[max_pos])
                    max_pos = j;
            }
            if (max_pos != i) {
                ll tmp = contrib[i];
                contrib[i] = contrib[max_pos];
                contrib[max_pos] = tmp;
            }
        }

        for (int i = 0; i < idx; i++)
            result[i+1] = result[i] + contrib[i];

        for (int i = 0; i < n-1; i++) {
            if (i) printf(" ");
            printf("%lld", result[i]);
        }
        printf("\n");
    }

    return 0;
}

