#include <stdio.h>
#include <string.h>

#define MAXN 200005

int freq[MAXN];

int main() {
    int t;
    scanf("%d", &t);

    while (t--) {
        int n;
        long long k;
        scanf("%d %lld", &n, &k);

        int a[MAXN];
        memset(freq, 0, sizeof(int) * (n + 2));

        for (int i = 0; i < n; i++) {
            scanf("%d", &a[i]);
            if (a[i] <= n)
                freq[a[i]]++;
        }

        int mex = 0;
        for (mex = 0; mex <= n; mex++) {
            if (freq[mex] == 0) break;
        }

        long long result = 0;

        if (k == 1) {
            result = 1LL * n * mex;
        } else {
            if (mex == 0) {
                result = (k % 2 == 0) ? n : 0;
            } else {
                result = (k % 2 == 1) ? 1LL * n * mex : 0;
            }
        }

        printf("%lld\n", result);
    }

    return 0;
}

