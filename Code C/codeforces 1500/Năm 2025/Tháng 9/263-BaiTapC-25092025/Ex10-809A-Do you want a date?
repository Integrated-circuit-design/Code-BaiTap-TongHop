#include <stdio.h>
#include <stdlib.h>

#define MOD 1000000007
#define MAXN 300005

long long x[MAXN], pow2[MAXN];

int cmp(const void *a, const void *b) {
    long long A = *(long long*)a;
    long long B = *(long long*)b;
    if (A < B) return -1;
    if (A > B) return 1;
    return 0;
}

int main() {
    int n;
    scanf("%d", &n);

    for (int i = 0; i < n; i++) {
        scanf("%lld", &x[i]);
    }

    qsort(x, n, sizeof(long long), cmp);

    pow2[0] = 1;
    for (int i = 1; i <= n; i++) {
        pow2[i] = (pow2[i-1] * 2) % MOD;
    }

    long long ans = 0;
    for (int i = 0; i < n; i++) {
        long long asMax = (pow2[i] - 1 + MOD) % MOD;
        long long asMin = (pow2[n-i-1] - 1 + MOD) % MOD;
        long long contrib = (x[i] % MOD) * ((asMax - asMin + MOD) % MOD) % MOD;
        ans = (ans + contrib) % MOD;
    }

    printf("%lld\n", ans);
    return 0;
}

