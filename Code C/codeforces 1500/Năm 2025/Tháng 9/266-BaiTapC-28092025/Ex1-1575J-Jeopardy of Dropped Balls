#include <stdio.h>

#define MAXN 1005
#define MAXM 1005
#define MAXK 100005

int n, m, k;
int grid[MAXN][MAXM];
int balls[MAXK];

int dropBall(int startCol) {
    int r = 0;
    int c = startCol - 1;

    while (r < n && r >= 0 && c < m && c >= 0) {
        int direction = grid[r][c];
        grid[r][c] = 2;

        switch (direction) {
            case 1: c++; break;
            case 2: r++; break;
            case 3: c--; break;
        }
    }
    return c + 1;
}

int main() {
    scanf("%d %d %d", &n, &m, &k);

    for (int i = 0; i < n; i++)
        for (int j = 0; j < m; j++)
            scanf("%d", &grid[i][j]);

    for (int i = 0; i < k; i++)
        scanf("%d", &balls[i]);

    for (int i = 0; i < k; i++) {
        int endCol = dropBall(balls[i]);
        printf("%d ", endCol);
    }

    return 0;
}

