#include <stdio.h>
#include <stdbool.h>

int n, m;
int a[20][20];

int main() {
    scanf("%d %d", &n, &m);
    for(int i=0; i<n; i++)
        for(int j=0; j<m; j++)
            scanf("%d", &a[i][j]);

    int col1 = -1, col2 = -1;
    bool possible = true;

    for(int i=0; i<n; i++){
        int diff[2], cnt=0;
        for(int j=0; j<m; j++){
            if(a[i][j] != j+1){
                if(cnt < 2) diff[cnt] = j;
                cnt++;
            }
        }
        if(cnt > 2){
            possible = false;
            break;
        }
        if(cnt == 2){
            if(col1 == -1){
                col1 = diff[0];
                col2 = diff[1];
            } else {
                if(!((col1 == diff[0] && col2 == diff[1]) || (col1 == diff[1] && col2 == diff[0]))){
                    possible = false;
                    break;
                }
            }
        }
    }

    if(possible) printf("YES\n");
    else printf("NO\n");

    return 0;
}

