#include <stdio.h>
#include <stdint.h>

int main() {
    int T;
    scanf("%d", &T);

    while(T--) {
        int n;
        scanf("%d", &n);

        int64_t a[n], b[n];
        for(int i = 0; i < n; i++) {
            scanf("%lld %lld", &a[i], &b[i]);
        }

        int64_t sum = 0;
        int64_t min_start = a[0];

        for(int i = 0; i < n; i++) {
            int prev = (i == 0) ? n - 1 : i - 1;
            int64_t remaining = (a[i] > b[prev]) ? a[i] - b[prev] : 0;
            sum += remaining;

            int64_t start_extra = a[i] - remaining;
            if(start_extra < min_start) min_start = start_extra;
        }

        printf("%lld\n", sum + min_start);
    }

    return 0;
}

