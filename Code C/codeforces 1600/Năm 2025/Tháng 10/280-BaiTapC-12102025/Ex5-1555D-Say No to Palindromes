#include <stdio.h>
#include <string.h>

#define MAXN 200005

char s[MAXN];
int n, m;

char patterns[6][3] = {
    {'a','b','c'},
    {'a','c','b'},
    {'b','a','c'},
    {'b','c','a'},
    {'c','a','b'},
    {'c','b','a'}
};

int calculate_cost(int l, int r, int p) {
    int changes = 0;
    for(int i = l-1; i < r; i++) {
        if(s[i] != patterns[p][i % 3])
            changes++;
    }
    return changes;
}

int min(int a, int b) { return a < b ? a : b; }

int main() {
    scanf("%d %d", &n, &m);
    scanf("%s", s);

    for(int q = 0; q < m; q++) {
        int l, r;
        scanf("%d %d", &l, &r);

        int ans = MAXN;
        for(int p = 0; p < 6; p++) {
            int c = calculate_cost(l, r, p);
            ans = min(ans, c);
        }

        printf("%d\n", ans);
    }

    return 0;
}

