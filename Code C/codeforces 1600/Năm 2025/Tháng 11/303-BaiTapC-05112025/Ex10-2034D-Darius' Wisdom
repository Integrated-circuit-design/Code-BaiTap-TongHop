#include <stdio.h>

int main() {
    int t;
    scanf("%d", &t);
    while (t--) {
        int n;
        scanf("%d", &n);
        int a[200005];
        int u[200005], v[200005];
        int moves = 0;

        for (int i = 1; i <= n; i++)
            scanf("%d", &a[i]);

        for (int i = 1; i < n; i++) {
            if (a[i] == 2 && a[i + 1] < 2) {
                u[moves] = i;
                v[moves] = i + 1;
                moves++;
                a[i]--;
                a[i + 1]++;
            }
        }

        for (int i = n; i > 1; i--) {
            if (a[i] == 0 && a[i - 1] > 0) {
                u[moves] = i - 1;
                v[moves] = i;
                moves++;
                a[i - 1]--;
                a[i]++;
            }
        }

        printf("%d\n", moves);
        for (int i = 0; i < moves; i++)
            printf("%d %d\n", u[i], v[i]);
    }
    return 0;
}

