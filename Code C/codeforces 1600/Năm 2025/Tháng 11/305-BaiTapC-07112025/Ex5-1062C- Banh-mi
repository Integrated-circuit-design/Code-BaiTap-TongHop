#include <stdio.h>
#define MOD 1000000007
#define MAXN 1000005

long long powmod(long long a, int b) {
    long long res = 1;
    while (b > 0) {
        if (b & 1) res = (res * a) % MOD;
        a = (a * a) % MOD;
        b >>= 1;
    }
    return res;
}

int main() {
    int n, q;
    static char s[MAXN];
    static int ones[MAXN];

    scanf("%d %d", &n, &q);
    scanf("%s", s + 1);

    for (int i = 1; i <= n; i++) {
        ones[i] = ones[i - 1] + (s[i] == '1');
    }

    for (int i = 0; i < q; i++) {
        int l, r;
        scanf("%d %d", &l, &r);

        int len = r - l + 1;
        int cnt1 = ones[r] - ones[l - 1];

        if (cnt1 == 0) {
            printf("0\n");
            continue;
        }

        long long base = (powmod(2, cnt1) - 1 + MOD) % MOD;
        long long ans = (base * (len - cnt1 + 1)) % MOD;

        printf("%lld\n", ans);
    }

    return 0;
}

