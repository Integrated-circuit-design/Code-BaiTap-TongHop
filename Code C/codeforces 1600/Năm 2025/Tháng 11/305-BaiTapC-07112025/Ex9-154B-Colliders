#include <stdio.h>
#include <math.h>

#define MAXN 100005

int n, m;
int active[MAXN];
int prime_to_collider[MAXN];

int factorize(int x, int primes[]) {
    int cnt = 0;
    for (int i = 2; i * i <= x; i++) {
        if (x % i == 0) {
            primes[cnt++] = i;
            while (x % i == 0) x /= i;
        }
    }
    if (x > 1) primes[cnt++] = x;
    return cnt;
}

int main() {
    scanf("%d %d", &n, &m);
    while (m--) {
        char type;
        int x;
        scanf(" %c %d", &type, &x);
        if (type == '+') {
            if (active[x]) {
                printf("Already on\n");
                continue;
            }
            int primes[20];
            int cnt = factorize(x, primes);
            int conflict = 0;
            for (int i = 0; i < cnt; i++) {
                int p = primes[i];
                if (prime_to_collider[p] && prime_to_collider[p] != x) {
                    conflict = prime_to_collider[p];
                    break;
                }
            }
            if (conflict) {
                printf("Conflict with %d\n", conflict);
            } else {
                for (int i = 0; i < cnt; i++)
                    prime_to_collider[primes[i]] = x;
                active[x] = 1;
                printf("Success\n");
            }
        } else if (type == '-') {
            if (!active[x]) {
                printf("Already off\n");
                continue;
            }
            int primes[20];
            int cnt = factorize(x, primes);
            for (int i = 0; i < cnt; i++)
                if (prime_to_collider[primes[i]] == x)
                    prime_to_collider[primes[i]] = 0;
            active[x] = 0;
            printf("Success\n");
        }
    }
    return 0;
}

