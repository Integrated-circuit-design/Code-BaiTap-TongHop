#include <stdio.h>
#include <string.h>

char maze[55][55];
int reachable[55][55];
int n, m;

void dfs(int x, int y) {
    if (x < 0 || x >= n || y < 0 || y >= m) return;
    if (maze[x][y] == '#' || reachable[x][y]) return;
    reachable[x][y] = 1;

    dfs(x+1, y);
    dfs(x-1, y);
    dfs(x, y+1);
    dfs(x, y-1);
}

int main() {
    int t;
    scanf("%d", &t);
    while (t--) {
        scanf("%d %d", &n, &m);

        for (int i = 0; i < n; i++)
            scanf("%s", maze[i]);

        int ok = 1;

        for (int i = 0; i < n; i++) {
            for (int j = 0; j < m; j++) {
                if (maze[i][j] == 'B') {
                    int dx[4] = {1, -1, 0, 0};
                    int dy[4] = {0, 0, 1, -1};
                    for (int k = 0; k < 4; k++) {
                        int ni = i + dx[k];
                        int nj = j + dy[k];
                        if (ni < 0 || ni >= n || nj < 0 || nj >= m) continue;
                        if (maze[ni][nj] == 'G') ok = 0;
                        if (maze[ni][nj] == '.') maze[ni][nj] = '#';
                    }
                }
            }
        }

        if (!ok) {
            printf("No\n");
            continue;
        }

        memset(reachable, 0, sizeof(reachable));
        if (maze[n-1][m-1] != '#')
            dfs(n-1, m-1);

        ok = 1;
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < m; j++) {
                if (maze[i][j] == 'G' && !reachable[i][j]) ok = 0;
                if (maze[i][j] == 'B' && reachable[i][j]) ok = 0;
            }
        }

        printf(ok ? "Yes\n" : "No\n");
    }
    return 0;
}

