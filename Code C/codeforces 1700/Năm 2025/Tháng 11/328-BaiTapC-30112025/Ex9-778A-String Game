#include <stdio.h>
#include <string.h>

#define MAXN 200000

char t[MAXN + 5], p[MAXN + 5];
int a[MAXN + 5];
int pos[MAXN + 5];

int check(int k, int n, int m) {
    int j = 0;
    for (int i = 0; i < n && j < m; i++) {
        if (pos[i] > k) {
            if (t[i] == p[j]) j++;
        }
    }
    return j == m;
}

int main() {
    scanf("%s", t);
    scanf("%s", p);

    int n = strlen(t);
    int m = strlen(p);

    for (int i = 0; i < n; i++) {
        int x;
        scanf("%d", &x);
        a[i] = x;
    }

    for (int i = 0; i < n; i++) pos[a[i]-1] = i + 1;

    int left = 0, right = n, ans = 0;
    while (left <= right) {
        int mid = (left + right) / 2;
        if (check(mid, n, m)) {
            ans = mid;
            left = mid + 1;
        } else {
            right = mid - 1;
        }
    }

    printf("%d\n", ans);
    return 0;
}

