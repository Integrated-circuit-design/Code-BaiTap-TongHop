#include <stdio.h>

#define MOD 1000000007
#define MAXN 100005

long long dp[MAXN];

int main() {
    int t, k;
    scanf("%d %d", &t, &k);

    int queries[t][2];
    int max_b = 0;

    for (int i = 0; i < t; i++) {
        scanf("%d %d", &queries[i][0], &queries[i][1]);
        if (queries[i][1] > max_b) max_b = queries[i][1];
    }

    dp[0] = 1;

    for (int i = 1; i <= max_b; i++) {
        dp[i] = dp[i-1];
        if (i >= k) {
            dp[i] = (dp[i] + dp[i-k]) % MOD;
        }
    }

    for (int i = 0; i < t; i++) {
        int a = queries[i][0];
        int b = queries[i][1];

        long long total = 0;
        for (int j = a; j <= b; j++) {
            total = (total + dp[j]) % MOD;
        }
        printf("%lld\n", total);
    }

    return 0;
}

