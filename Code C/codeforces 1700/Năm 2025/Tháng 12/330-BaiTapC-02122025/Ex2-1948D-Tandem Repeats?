#include <stdio.h>
#include <string.h>

#define MAXN 5005

char s[MAXN];

int isTandem(int l, int r) {
    int len = r - l + 1;
    if (len % 2 != 0) return 0;
    int k = len / 2;
    for (int i = 0; i < k; i++) {
        char a = s[l + i];
        char b = s[l + k + i];
        if (a != b && a != '?' && b != '?') return 0;
    }
    return 1;
}

int main() {
    int t;
    scanf("%d", &t);

    while (t--) {
        scanf("%s", s);
        int n = strlen(s);
        int maxLen = 0;

        for (int len = 2; len <= n; len += 2) {
            for (int start = 0; start + len <= n; start++) {
                if (isTandem(start, start + len - 1)) {
                    if (len > maxLen) maxLen = len;
                }
            }
        }

        printf("%d\n", maxLen);
    }

    return 0;
}

