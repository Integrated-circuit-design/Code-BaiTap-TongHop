#include <stdio.h>
#include <stdlib.h>

#define MAXX 18

typedef struct TrieNode {
    struct TrieNode *child[2];
    long long count;
} TrieNode;

TrieNode* newNode() {
    TrieNode* node = (TrieNode*)malloc(sizeof(TrieNode));
    node->child[0] = node->child[1] = NULL;
    node->count = 0;
    return node;
}

void insert(TrieNode* root, int num) {
    TrieNode* node = root;
    for (int i = MAXX; i >= 0; i--) {
        int bit = (num >> i) & 1;
        if (!node->child[bit]) node->child[bit] = newNode();
        node = node->child[bit];
        node->count++;
    }
}

long long query(TrieNode* root, int num, int *squares, int sqCount) {
    long long res = 0;
    for (int i = 0; i < sqCount; i++) {
        int target = num ^ squares[i];
        TrieNode* node = root;
        for (int bit = MAXX; bit >= 0; bit--) {
            int b = (target >> bit) & 1;
            if (!node->child[b]) { node = NULL; break; }
            node = node->child[b];
        }
        if (node) res += node->count;
    }
    return res;
}

void freeTrie(TrieNode* node) {
    if (!node) return;
    freeTrie(node->child[0]);
    freeTrie(node->child[1]);
    free(node);
}

int main() {
    int t;
    scanf("%d", &t);

    int squares[600];
    int sqCount = 0;
    for (int i = 0; i * i <= (1 << 18); i++)
        squares[sqCount++] = i * i;

    while (t--) {
        int n;
        scanf("%d", &n);

        int arr[n];
        for (int i = 0; i < n; i++) scanf("%d", &arr[i]);

        TrieNode* root = newNode();
        insert(root, 0);

        int prefixXOR = 0;
        long long bad = 0;

        for (int i = 0; i < n; i++) {
            prefixXOR ^= arr[i];
            bad += query(root, prefixXOR, squares, sqCount);
            insert(root, prefixXOR);
        }

        long long total = 1LL * n * (n + 1) / 2;
        long long result = total - bad;

        printf("%lld\n", result);
        freeTrie(root);
    }

    return 0;
}

