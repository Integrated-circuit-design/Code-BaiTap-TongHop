#include <stdio.h>
#include <limits.h>
typedef long long ll;

int main() {
    int t;
    scanf("%d", &t);

    while(t--) {
        int n, k;
        scanf("%d %d", &n, &k);

        int a[n];
        for(int i = 0; i < n; i++) scanf("%d", &a[i]);

        ll total = 0;
        for(int i = 0; i < n; i++) total += a[i];

        ll ans = total;

        for(int start = 0; start < n; start++) {
            int window_min = a[start];
            ll window_sum = a[start];

            for(int end = start + 1; end < n && end <= start + k; end++) {
                window_sum += a[end];
                if(a[end] < window_min) window_min = a[end];

                ll new_total = total - window_sum + (ll)window_min * (end - start + 1);
                if(new_total < ans) ans = new_total;
            }
        }

        printf("%lld\n", ans);
    }

    return 0;
}

