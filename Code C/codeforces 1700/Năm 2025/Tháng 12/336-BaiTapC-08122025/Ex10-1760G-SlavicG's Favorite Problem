#include <stdio.h>
#include <stdlib.h>

#define MAXN 100005
#define MAXE 200005

typedef struct {
    int u, v;
    long long w;
} Edge;

Edge edges[MAXE];
long long xor_val[MAXN];
int visited[MAXN];
int n, a, b;

int queue[MAXN];
int front, rear;

int head[MAXN];
int next_edge[MAXE];
int edge_to[MAXE];
long long edge_weight[MAXE];
int edge_count;

void addEdge(int u, int v, long long w) {
    edge_to[edge_count] = v;
    edge_weight[edge_count] = w;
    next_edge[edge_count] = head[u];
    head[u] = edge_count;
    edge_count++;
}

void bfs(int start) {
    for (int i = 1; i <= n; i++) visited[i] = 0;
    front = rear = 0;
    queue[rear++] = start;
    visited[start] = 1;
    xor_val[start] = 0;

    while (front < rear) {
        int u = queue[front++];
        for (int e = head[u]; e != -1; e = next_edge[e]) {
            int v = edge_to[e];
            if (!visited[v]) {
                xor_val[v] = xor_val[u] ^ edge_weight[e];
                visited[v] = 1;
                queue[rear++] = v;
            }
        }
    }
}

int main() {
    int t;
    scanf("%d", &t);

    while (t--) {
        scanf("%d %d %d", &n, &a, &b);

        edge_count = 0;
        for (int i = 1; i <= n; i++) head[i] = -1;

        for (int i = 0; i < n - 1; i++) {
            int u, v;
            long long w;
            scanf("%d %d %lld", &u, &v, &w);
            addEdge(u, v, w);
            addEdge(v, u, w);
        }

        bfs(a);

        if (xor_val[b] == 0) {
            printf("YES\n");
        } else {
            int canTeleport = 0;
            for (int i = 1; i <= n; i++) {
                if (i != b && xor_val[i] == xor_val[b]) {
                    canTeleport = 1;
                    break;
                }
            }
            printf("%s\n", canTeleport ? "YES" : "NO");
        }
    }
    return 0;
}

