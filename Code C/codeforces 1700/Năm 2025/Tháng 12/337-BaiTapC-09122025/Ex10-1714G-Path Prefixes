#include <stdio.h>

#define MAXN 200000
typedef long long ll;

int childHead[MAXN+5], childNext[MAXN+5], childTo[MAXN+5], ecount;
ll weightA[MAXN+5], weightB[MAXN+5];
int result[MAXN+5];
ll sumA[MAXN+5];
ll pathB[MAXN+5];
int depth;

int find_prefix(ll limit) {
    int l = 1, r = depth, mid, best = 0;
    while (l <= r) {
        mid = (l + r) / 2;
        if (pathB[mid] <= limit) {
            best = mid;
            l = mid + 1;
        } else r = mid - 1;
    }
    return best;
}

void dfs(int u) {
    int e = childHead[u];
    while (e != -1) {
        int v = childTo[e];
        sumA[v] = sumA[u] + weightA[e];
        depth++;
        pathB[depth] = pathB[depth - 1] + weightB[e];
        result[v] = find_prefix(sumA[v]);
        dfs(v);
        depth--;
        e = childNext[e];
    }
}

int main() {
    int t;
    scanf("%d", &t);

    while (t--) {
        int n;
        scanf("%d", &n);

        for (int i = 1; i <= n; i++)
            childHead[i] = -1;
        ecount = 0;

        for (int v = 2; v <= n; v++) {
            int p; ll a, b;
            scanf("%d %lld %lld", &p, &a, &b);
            childTo[ecount] = v;
            weightA[ecount] = a;
            weightB[ecount] = b;
            childNext[ecount] = childHead[p];
            childHead[p] = ecount;
            ecount++;
        }

        sumA[1] = 0;
        pathB[0] = 0;
        depth = 0;

        dfs(1);

        for (int i = 2; i <= n; i++) {
            printf("%d%c", result[i], (i == n) ? '\n' : ' ');
        }
    }

    return 0;
}

