#include <stdio.h>

#define MAXN 200005

int adj[MAXN][20];
int deg[MAXN];
int dist[MAXN];
int q[MAXN];
int group[MAXN][20];
int gsz[MAXN];

int main() {
    int t;
    scanf("%d", &t);

    while (t--) {
        int n, st, en;
        scanf("%d %d %d", &n, &st, &en);

        for (int i = 1; i <= n; i++) {
            deg[i] = 0;
            dist[i] = -1;
            gsz[i] = 0;
        }

        for (int i = 1; i < n; i++) {
            int u, v;
            scanf("%d %d", &u, &v);
            adj[u][deg[u]++] = v;
            adj[v][deg[v]++] = u;
        }

        int h = 0, t0 = 0;
        q[t0++] = en;
        dist[en] = 0;
        int mx = 0;

        while (h < t0) {
            int u = q[h++];
            int d = dist[u];
            if (d > mx) mx = d;

            for (int i = 0; i < deg[u]; i++) {
                int v = adj[u][i];
                if (dist[v] == -1) {
                    dist[v] = d + 1;
                    q[t0++] = v;
                }
            }
        }

        for (int i = 1; i <= n; i++) {
            int d = dist[i];
            group[d][gsz[d]++] = i;
        }

        int first = 1;
        for (int d = mx; d >= 0; d--) {
            for (int i = 0; i < gsz[d]; i++) {
                if (!first) printf(" ");
                printf("%d", group[d][i]);
                first = 0;
            }
        }
        printf("\n");
    }

    return 0;
}

