#include <stdio.h>

#define LIM 200000

int b[LIM + 5];

int main() {
    int n;
    scanf("%d", &n);

    for (int i = 0; i < n; i++)
        scanf("%d", &b[i]);

    int i = 0, j = n - 1;
    int prev = 0;
    char out[LIM + 5];
    int p = 0;

    while (i <= j) {
        int L = b[i], R = b[j];

        if (L <= prev && R <= prev) break;

        if (L > prev && R > prev) {
            if (L < R) {
                out[p++] = 'L';
                prev = L;
                i++;
            }
            else if (R < L) {
                out[p++] = 'R';
                prev = R;
                j--;
            }
            else {
                int cntL = 1, cntR = 1;
                int tmp;

                tmp = L;
                for (int u = i + 1; u <= j; u++) {
                    if (b[u] > tmp) {
                        tmp = b[u];
                        cntL++;
                    } else break;
                }

                tmp = R;
                for (int u = j - 1; u >= i; u--) {
                    if (b[u] > tmp) {
                        tmp = b[u];
                        cntR++;
                    } else break;
                }

                if (cntL >= cntR) {
                    for (int k = 0; k < cntL; k++)
                        out[p++] = 'L';
                } else {
                    for (int k = 0; k < cntR; k++)
                        out[p++] = 'R';
                }
                break;
            }
        }
        else if (L > prev) {
            out[p++] = 'L';
            prev = L;
            i++;
        }
        else {
            out[p++] = 'R';
            prev = R;
            j--;
        }
    }

    out[p] = '\0';
    printf("%d\n%s\n", p, out);

    return 0;
}

