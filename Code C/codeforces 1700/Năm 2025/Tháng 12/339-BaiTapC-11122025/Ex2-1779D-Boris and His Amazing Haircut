#include <stdio.h>
#include <stdlib.h>

typedef long long ll;

int cmp_ll(const void *a, const void *b) {
    ll x = *(const ll*)a, y = *(const ll*)b;
    return (x > y) - (x < y);
}

int main() {
    int t;
    scanf("%d", &t);

    static ll a[200005], b[200005], r[200005];
    static ll key[200005];
    static int freq[200005];

    while (t--) {
        int n;
        scanf("%d", &n);

        for (int i = 0; i < n; i++) scanf("%lld", &a[i]);
        for (int i = 0; i < n; i++) scanf("%lld", &b[i]);

        int ok = 1;
        for (int i = 0; i < n; i++) {
            if (a[i] < b[i]) ok = 0;
        }

        int m;
        scanf("%d", &m);
        for (int i = 0; i < m; i++) scanf("%lld", &r[i]);

        if (!ok) { puts("NO"); continue; }

        qsort(r, m, sizeof(ll), cmp_ll);
        int K = 0;
        for (int i = 0; i < m; ) {
            ll v = r[i];
            int c = 0;
            while (i < m && r[i] == v) { c++; i++; }
            key[K] = v;
            freq[K] = c;
            K++;
        }

        ll lastUsed = -1;

        for (int i = 0; i < n; i++) {
            if (a[i] == b[i]) continue;

            ll need = b[i];

            if (need == lastUsed) continue;

            int pos = -1;
            for (int j = 0; j < K; j++) {
                if (key[j] == need) {
                    pos = j;
                    break;
                }
            }

            if (pos == -1 || freq[pos] == 0) {
                ok = 0;
                break;
            }

            freq[pos]--;
            lastUsed = need;
        }

        puts(ok ? "YES" : "NO");
    }

    return 0;
}

