#include <stdio.h>
#include <string.h>

#define MAXA 1000000

int cnt[MAXA + 1];
int values[200000];
int uniq[200000];

int main() {
    int t;
    scanf("%d", &t);

    while (t--) {
        int n;
        scanf("%d", &n);

        memset(cnt, 0, sizeof(cnt));

        int x;
        int sz = 0;
        int maxv = 0;

        for (int i = 0; i < n; i++) {
            scanf("%d", &x);
            cnt[x]++;
            if (cnt[x] == 1) {
                uniq[sz++] = x;
            }
            if (x > maxv) maxv = x;
        }

        long long total = 0;

        for (int idx = 0; idx < sz; idx++) {
            int m = uniq[idx];
            long long cm = cnt[m];

            for (int u = 1; u * u <= m; u++) {
                if (m % u != 0) continue;

                int a1 = u;
                int a2 = m / u;

                {
                    long long b = m / a1;
                    long long ak = (long long)m * b;

                    if (ak <= MAXA && cnt[a1] > 0 && cnt[ak] > 0) {
                        total += (long long)cnt[a1] * cm * cnt[ak];
                    }
                }

                if (a1 != a2) {
                    long long b = m / a2;
                    long long ak = (long long)m * b;

                    if (ak <= MAXA && cnt[a2] > 0 && cnt[ak] > 0) {
                        total += (long long)cnt[a2] * cm * cnt[ak];
                    }
                }
            }
        }

        printf("%lld\n", total);
    }

    return 0;
}

